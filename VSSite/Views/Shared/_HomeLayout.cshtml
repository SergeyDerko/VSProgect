@using VSSite.Resources
<!DOCTYPE html>
<html lang="ua">
<head>
    @*меняем https://www.youtube.com/watch?v=P6N9782MzFQ на https://www.youtube.com/embed/P6N9782MzFQ*@
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="VeteranoService - свій до свого по своє ;-)">
    <title>VeteranoService</title>
    <link rel="icon" href="/Content/img/logo.png">
    <!-- css-libs (slick, animate ...)-->
    <link rel="stylesheet" type="text/css" href="/Content/libs-css/reset.css">
    <link rel="stylesheet" type="text/css" href="/Content/libs-css/animate.css">
    <link href="~/Content/about-us.css" rel="stylesheet" />
    <link href="~/Content/business.css" rel="stylesheet" />
    <link href="~/Content/form.css" rel="stylesheet" />
    <link href="~/Content/infoblock.css" rel="stylesheet" />
    <link href="~/Content/main.css" rel="stylesheet" />
    <link href="~/Content/news.css" rel="stylesheet" />
    <link href="~/Content/partners.css" rel="stylesheet" />
    <link href="~/Content/useful.css" rel="stylesheet" />
    <link href="~/Content/vacancy.css" rel="stylesheet" />
    <!-- jquery-->
    <script src="~/Scripts/libs/jquery.js"></script>
    <style>
        .selected span {
            font-size: 20px;
            color: black;
            font-weight: 700;
            display: block;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: rgba(239, 243, 73, 0.39);
            text-shadow: 0 0 3px white;
            line-height: 28px;
            position: relative;
        }

            .selected span:after,
            .selected span:before {
                display: block;
                content: '';
                position: absolute;
                left: 50%;
                transform: translate(-50%);
                height: 1px;
                width: 60%;
                background-color: green;
            }

            .selected span:after {
                bottom: -10px;
            }

            .selected span:before {
                top: -10px;
            }

        .our-contacts {
            display: grid;
            grid-template-columns: auto 1fr;
            grid-column-gap: 15px;
            grid-row-gap: 6px;
            font: 18px spec;
            margin: 20px 0;
        }
    </style>

</head>
<body>
    <!-- HEADER-->
    <!-- ↓↓↓ BEM-blocks: header (start) ↓↓↓-->
    <div class="header">
        <input type="hidden" id="lang" value="@Translator.language" />
        <a class="header__logo" href="/Home/Index"><img class="header__logo-img" src="/Content/img/logo.png" alt="logo.png"></a>
        <div class="header__social-btns-area"><a class="header__social-btn" href="https://www.youtube.com/channel/UC8sz3peAKC-bN0z2MdKgggA" target="_blank"><img class="header__social-img" src="/Content/img/youtube.png" alt="youtube.png"></a><a class="header__social-btn" href="#"><img class="header__social-img" src="/Content/img/facebook.png" alt="facebook.png"></a><a class="header__social-btn" href="#"><img class="header__social-img" src="/Content/img/twitter.png" alt="twitter.png"></a></div>
        <!-- ↓↓↓ BEM-blocks: language-switcher (start) ↓↓↓-->
        <div class="language-switcher" data-language="ua">
            <img class="language-switcher__img" src="/Content/img/ua.png" alt="ua.png"><img class="language-switcher__img" src="/Content/img/uk.png" alt="en.png"><img class="language-switcher__img" src="/Content/img/ru.png" alt="ru.png">
            <div class="language-switcher__shutter-ua" href="#"></div>
            <div class="language-switcher__shutter-en" href="#"></div>
            <div class="language-switcher__shutter-ru" href="#"></div>
        </div>
        <!-- ↑↑↑ BEM-blocks: language-switcher (end) ↑↑↑-->
        <div class="header__menu">
            <button class="header__menu-btn"><span>@Translator.MENU</span><img src="/Content/img/gear.png" alt="меню"></button>
            <ul class="header__menu-list">
                <li><a class="header__menu-link" href="/Home/Index">@Translator.Home</a></li>
                <li><a class="header__menu-link" href="/Home/Business">@Translator.Businesses_of_veterans</a></li>
                <li><a class="header__menu-link" href="/Home/Help">@Translator.Business_Assistance</a></li>
                <li><a class="header__menu-link" href="/Home/Jobs">@Translator.jobs</a></li>
                <li><a class="header__menu-link" href="/Home/Useful">@Translator.useful</a></li>
                <li><a class="header__menu-link" href="/Home/Partners">@Translator.Partners</a></li>
                <li><a class="header__menu-link" href="/Home/AboutAs">@Translator.About_us</a></li>
                <li><a class="header__menu-link" href="/Home/News">@Translator.News</a></li>
            </ul>
        </div>
    </div>

    <!-- ↑↑↑ BEM-blocks: header (end) ↑↑↑-->
    <!-- /HEADER-->
    <!-- MAIN SECTION-->
    <main class="main">
        <!-- SECTION 1-->
        <section class="main-section">
            @RenderBody()
            <!-- ↓↓↓ BEM-blocks: banners-holder (start) ↓↓↓-->
            <div class="banners-holder">
                @if (Translator.language == "ru")
                {
                    <a class="place" href="/Home/PostingOnSite"><img src="/Content/img/розміщення_укр.png" alt="place.png"><span>@Translator.Placing_on_the_site</span></a>
                    <a class="help" id="helpProject" href="#"><img src="/Content/img/допомога_укр.png" alt="kozak.png"><span>@Translator.Project_assistance</span></a>
                }
                else
                {
                    <a class="place" href="/Home/PostingOnSite"><img src="/Content/img/розміщення_англ.png" alt="place.png"><span>@Translator.Placing_on_the_site</span></a>
                    <a class="help" id="helpProject" href="#"><img src="/Content/img/допомога_англ.png" alt="kozak.png"><span>@Translator.Project_assistance</span></a>
                }

            </div>
            <!-- ↑↑↑ BEM-blocks: banners-holder (end) ↑↑↑-->
        </section>
        <!-- /SECTION 1-->
    </main>

    <section class="popups-section">

        <div id="partialBusiness"></div>

        <div class="popup-business-1">
            <img class="popup-business__close-1" src="/Content/img/close.png" alt="close">
            <h3 class="popup-business__header">@Translator.Project_assistance</h3>
            <div style="margin-left: 30px; margin-right: 30px; text-align: justify">
                <br /><br />
                      <p style="font-size: 20px">@Translator.Since_the_creation </p>
                <br />  <br /><br />

                              <p style="font-size: 20px">@Translator.So_in_order</p>
                <br /><br />
                      <h3 class="popup-business__header" style="font-size: 25px">@Translator.BANKING_CARD</h3>
                <br />
                <h3 class="popup-business__header" style="font-size: 25px">@Translator.KIND_REGARDS.</h3>
                <br />
                <div class="popup-business__contacts">
                    <div class="popup-business__item">@Translator.Requisites:</div>
                    <div class="popup-business__item">
                        <br />
                        @Translator.USREOU
                        <br />
                        @Translator.Account
                    </div>
                </div>
            </div>
        </div>

        <!-- ↓↓↓ BEM-blocks: popup-no-russian-language-suppurt (start) ↓↓↓-->
        <div class="small-popup" id="popup-no-russian-language-suppurt">
            <button class="small-popup__close-button" id="popup-no-russian-language-suppurt__close-button"><img class="small-popup__close-cross" src="/Content/img/cross.png" alt="cross.png"></button>
            <h5 class="small-popup__header">Помилка 404...</h5>
            <div class="small-popup__body">
                <p>Вибачте, але патріотичний сервіс не підтримує мову окупантів.</p>
                <p>Ми добре пам'ятаємо, як орки лізли на нашу землю під гаслами "защіти рускагаварящіх". На цій, ще не закінченій війні, уже загинуло більше 10 тисяч наших побратимів і просто цивільних людей...</p>
            </div>
            <div class="small-popup__buttons-area">
                <button class="small-popup__button">Зрозуміло</button>
            </div>
            <div class="small-popup__background">
                <img class="small-popup__background-image" src="/Content/img/ornament.jpg" alt="ornament.jpg">
            </div>
        </div>
    </section>
    <script>
        $(document).ready(function () {
            $("#helpProject").click(function () {
                $('.popup-business-1, .popups-section').css('display', 'block');
            });
            $('.popup-business__close-1').click(function () {
                $('.popup-business-1, .popups-section').css('display', 'none');
            });

            //смена языка
            var lang = $('#lang').val();
            if (lang == "en") {
                $('.language-switcher__shutter-ua').css('height', '100%');
                $('.language-switcher__shutter-en').css('height', '.1px');
                $('.language-switcher').attr('data-language', 'en');
            }
            $('.language-switcher__shutter-ua').click(function () {
                $('.language-switcher__shutter-ua').css('height', '.1px');
                $('.language-switcher__shutter-en').css('height', '100%');
                $('.language-switcher').attr('data-language', 'ua');
                $.ajax({
                    url: "/Language/ChoiceOfLanguage?language=ru",
                    success: function () {
                        location.reload();
                    }
                });

            });

            $('.language-switcher__shutter-en').click(function () {
                $('.language-switcher__shutter-ua').css('height', '100%');
                $('.language-switcher__shutter-en').css('height', '.1px');
                $('.language-switcher').attr('data-language', 'en');
                $.ajax({
                    url: "/Language/ChoiceOfLanguage?language=en",
                    success: function () {
                        location.reload();
                    }
                });
            });


            /* ↓↓↓ зміна розмірів логотипу при прокрутці ↓↓↓ */
            if ($('.header').outerWidth() > 480) {
                if ($('.header').offset().top >= 30) {
                    $('.header__logo-img').css({ 'height': '50px', 'margin-top': '-5px' });
                    $('.header').css({ 'background-color': 'rgba(0,0,0,.75)' });
                } else {
                    $('.header__logo-img').css({ 'height': '160px', 'margin-top': '0px' });
                    $('.header').css({ 'background-color': 'transparent' });
                }
            } else {
                $('.header__logo-img').css({ 'height': '50px', 'margin-top': '-5px' });
                $('.header').css({ 'background-color': 'rgba(0,0,0,.75)' });
            }

            $(document).scroll(function () {
                if ($('.header').outerWidth() > 480) {
                    if ($('.header').offset().top >= 30) {
                        $('.header__logo-img').css({ 'height': '50px', 'margin-top': '-5px' });
                        $('.header').css({ 'background-color': 'rgba(0,0,0,.75)' });
                    } else {
                        $('.header__logo-img').css({ 'height': '160px', 'margin-top': '0px' });
                        $('.header').css({ 'background-color': 'transparent' });
                    }
                } else {
                    $('.header__logo-img').css({ 'height': '50px', 'margin-top': '-5px' });
                    $('.header').css({ 'background-color': 'rgba(0,0,0,.75)' });
                }
            }); /* ↑↑↑ /зміна розмірів логотипу при прокрутці ↑↑↑ */

            /* ↓↓↓ логіка меню ↓↓↓ */
            var isMenuClicable = true;
            var isMemuOpen = false;
            var arrOfMenuItems = $('.header__menu-link');
            var delay = 0;
            var delayStep = 70;
            var freezeTime = arrOfMenuItems.length * delayStep;


            $('.header__menu-btn').click(function () {

                // якщо меню зараз не анімується (не відкивається і не закривається)
                if (isMenuClicable) {

                    // блокування повторних кліків на час анімації
                    isMenuClicable = false;
                    setTimeout(function () {
                        isMenuClicable = true
                    }, freezeTime);

                    // відкриття/закриття
                    if (isMemuOpen) {
                        closeMenu()
                    } else {
                        $('.header__menu-list').css('display', 'block');

                        delay = 0;
                        // навішування анімації через цикл - для цього потрібна додаткова анонімна ф-я
                        for (var i = 0; i < arrOfMenuItems.length; i++) {
                            (function (j) {
                                setTimeout(function () {
                                    $(arrOfMenuItems[j]).css({ 'right': '0%' });
                                }, delay);
                                delay = delay + delayStep;
                            })(i);
                        }
                        isMemuOpen = true;
                    }
                }
            });
            /* ↑↑↑ /логіка меню ↑↑↑ */

            $(document).click(function (event) {
                if (isMemuOpen && isMenuClicable && event.target.className != 'header__menu-btn') {
                    closeMenu()
                }
            });

            function closeMenu() {
                // закрити меню
                delay = 0;
                // навішування анімації через цикл - для цього потрібна додаткова анонімна ф-я
                for (var i = 0; i < arrOfMenuItems.length; i++) {
                    (function (j) {
                        setTimeout(function () {
                            $(arrOfMenuItems[j]).css({ 'right': 'calc( -100% - 15px )' });
                        }, delay);
                        delay = delay + delayStep;
                    })(i);
                }
                setTimeout(function () {
                    $('.header__menu-list').css('display', 'none');
                }, delay);
                isMemuOpen = false;
            }
        });


        var bodyWidth;

        $('.language-switcher__shutter-ru').click(function () {

            // змінюємо зовнішній вигляд мовної панелі
            $('.language-switcher__shutter-ua').css({ 'width': '50%', 'left': '0%' });
            $('.language-switcher__shutter-en').css({ 'width': '50%', 'left': '50%' });
            $('.language-switcher__shutter-ru').css({ 'display': 'none' });

            // змінюємо положення московського прапора
            var imageTop = $('img.language-switcher__img[src="/Content/img/ru.png"]').offset().top;
            var imageLeft = $('img.language-switcher__img[src="/Content/img/ru.png"]').offset().left;
            bodyWidth = $('body').outerWidth();

            $('img.language-switcher__img[src="/Content/img/ru.png"]').remove();
            $('body').append('<img class="language-switcher__img" src="/Content/img/ru.png">');
            $('img.language-switcher__img[src="/Content/img/ru.png"]').css({
                'position': 'absolute',
                'zIndex': 8889,
                'top': imageTop - 3,
                'left': imageLeft - 88,
                'cursor': 'pointer'
            });
            setTimeout(function () {
                // переміщуємо московський прапор на центр екрана зверху
                $('img.language-switcher__img[src="/Content/img/ru.png"]').css({
                    'transition': 'left .5s',
                    'left': bodyWidth / 2
                })
                    // по кліку - приховуємо прапор та показуємо повідомлення
                    .bind('click mouseenter', function () {
                        $(this).css({
                            'transition': 'top .5s',
                            'top': '-100%'
                        });
                        // поява підкладки
                        $('.popups-section').css('display', 'block');

                        setTimeout(function () {
                            // поява спливаючого вікна
                            $('#popup-no-russian-language-suppurt').css('top', '20px');
                            // відмальовування потрібної кількості орнаментів
                            var popupHeight = $('#popup-no-russian-language-suppurt').outerHeight(),
                                ornamentHeight = $('.small-popup__background-image').outerHeight(),
                                ornamentsAmount = Math.ceil(popupHeight / ornamentHeight);
                            for (var i = 0; i < ornamentsAmount - 1; i++) {
                                $('#popup-no-russian-language-suppurt .small-popup__background').append('<img class="small-popup__background-image" src="/Content/img/ornament.jpg", alt="ornament.jpg">');
                            }

                        }, 50);
                    });
            }, 100);
        });

        // навішування обробників на кнопки закриття
        $('#popup-no-russian-language-suppurt__close-button, #popup-no-russian-language-suppurt button.small-popup__button').click(function () { closeNoRussianLanguageSuppurtPopup() });

        function closeNoRussianLanguageSuppurtPopup() {
            $('#popup-no-russian-language-suppurt').remove();
            $('.popups-section').css('display', 'none');
        }


    </script>
    <!-- /MAIN SECTION-->
    <!-- FOOTER-->
    <!-- /FOOTER-->
    <script src="~/Scripts/libs/fontawesome-all.js"></script>
    <!-- own js-->
    <script src="~/Scripts/business.js"></script>
    <script src="~/Scripts/form.js"></script>
    <script src="~/Scripts/index.js"></script>
    <script src="~/Scripts/read-more-btn.js"></script>
</body>
</html>
